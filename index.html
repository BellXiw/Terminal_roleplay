<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Terminal Roleplay</title>
  <style>
    body {
      background-color: #0a0a0a;
      color: #00ffcc;
      font-family: 'Courier New', Courier, monospace;
      text-align: center;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    .crt {
      position: relative;
      background: radial-gradient(ellipse at center, #0a0a0a 0%, #000 100%);
      padding: 20px;
      box-shadow: inset 0 0 40px #0f0, 0 0 30px #000;
      border: 2px solid #0f0;
      margin: 0 auto;
      width: fit-content;
      border-radius: 20px;
    }
    .glitch {
      animation: glitch 0.5s infinite;
    }
    @keyframes glitch {
      0% { text-shadow: 2px 2px #0f0, -2px -2px #0ff; }
      50% { text-shadow: -2px -2px #0f0, 2px 2px #0ff; }
      100% { text-shadow: 2px 2px #0f0, -2px -2px #0ff; }
    }
    #startup {
      font-size: 2em;
      margin-top: 20vh;
      animation: blink 1s step-start infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }
    #game, #endScreen, #restartBtn {
      display: none;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 40px);
      gap: 5px;
      justify-content: center;
      margin: 10px 0;
    }
    .cell {
      width: 40px;
      height: 40px;
      border: 2px solid #0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }
    .selected {
      background-color: #00ffcc;
      color: #000;
    }
    .controls button {
      background: none;
      border: 2px solid #0f0;
      color: #0f0;
      padding: 5px 10px;
      margin: 3px;
      font-family: monospace;
      cursor: pointer;
    }
    .controls {
      margin-top: 10px;
    }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div id="startup" class="glitch">Entering terminal...</div>
  <div id="game" class="crt">
    <h2>Access Terminal</h2>
    <div>Target Pattern:</div>
    <div id="target" class="grid"></div>
    <div id="grid" class="grid"></div>
    <div class="controls" id="moveControls">
      <div>
        <button onclick="move(0, -1)">‚Üë</button>
      </div>
      <div>
        <button onclick="move(-1, 0)">‚Üê</button>
        <button onclick="move(1, 0)">‚Üí</button>
      </div>
      <div>
        <button onclick="move(0, 1)">‚Üì</button>
      </div>
    </div>
    <button onclick="action()" id="actionBtn">‚úÖ ACTION</button>
    <div id="timer" class="glitch" style="margin-top: 10px;"></div>
  </div>
  <div id="endScreen" class="crt">
    <div id="endMessage"></div>
    <button onclick="startGame()" id="restartBtn">üîÅ Restart</button>
  </div>
  <audio id="clickSound" src="https://www.soundjay.com/button/sounds/button-16.mp3"></audio>
  <script>
    const size = 3;
    let grid = [], target = [], selected = [0,0], timer, timeLeft = 15;
    const gridEl = document.getElementById('grid');
    const targetEl = document.getElementById('target');
    const timerEl = document.getElementById('timer');
    const clickSound = document.getElementById('clickSound');
    const moveControls = document.getElementById('moveControls');
    const actionBtn = document.getElementById('actionBtn');function playSound() {
  clickSound.currentTime = 0;
  clickSound.play();
}

function createGrid(arr, el) {
  el.innerHTML = '';
  arr.forEach((row, y) => row.forEach((cell, x) => {
    const div = document.createElement('div');
    div.className = 'cell';
    div.textContent = cell;
    if (el === gridEl && selected[0] === x && selected[1] === y) div.classList.add('selected');
    el.appendChild(div);
  }));
}

function randomPattern() {
  return Array.from({length: size}, () => Array.from({length: size}, () => Math.round(Math.random())));
}

function move(dx, dy) {
  playSound();
  const [x, y] = selected;
  const nx = Math.max(0, Math.min(size-1, x + dx));
  const ny = Math.max(0, Math.min(size-1, y + dy));
  selected = [nx, ny];
  render();
}

function action() {
  playSound();
  const [x, y] = selected;
  grid[y][x] = 1;
  render();
  if (JSON.stringify(grid) === JSON.stringify(target)) endGame(true);
}

function render() {
  createGrid(grid, gridEl);
  createGrid(target, targetEl);
}

function endGame(success) {
  clearInterval(timer);
  document.getElementById('game').style.display = 'none';
  document.getElementById('endScreen').style.display = 'block';
  document.getElementById('endMessage').textContent = success ? '> ACCESS GRANTED' : '> ACCESS DENIED';
  moveControls.style.display = 'none';
  actionBtn.style.display = 'none';
}

function countdown() {
  timerEl.textContent = `‚è≥ ${timeLeft} —Å–µ–∫—É–Ω–¥ –æ—Å—Ç–∞–ª–æ—Å—å...`;
  timeLeft--;
  if (timeLeft < 0) endGame(false);
}

function startGame() {
  document.getElementById('startup').style.display = 'none';
  document.getElementById('endScreen').style.display = 'none';
  document.getElementById('game').style.display = 'block';
  moveControls.style.display = 'block';
  actionBtn.style.display = 'inline-block';
  timeLeft = 15;
  selected = [0,0];
  grid = Array.from({length: size}, () => Array(size).fill(0));
  target = randomPattern();
  render();
  timer = setInterval(countdown, 1000);
}

setTimeout(startGame, 2000);

  </script>
</body>
</html>
